<!DOCTYPE html>
<html lang="zh-CN">





<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/blog/img/apple-touch-icon.png">
  <link rel="icon" type="image/png" href="/blog/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="">
  <meta name="keywords" content="">
  <title>MySQLåŸºç¡€ - ğŸğŸŠ&#39;s blog</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/5.12.1/css/all.min.css" />
<link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css" />
<link  rel="stylesheet" href="https://cdn.staticfile.org/mdbootstrap/4.13.0/css/mdb.min.css" />
<link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/3.0.1/github-markdown.min.css" />

<link rel="stylesheet" href="//at.alicdn.com/t/font_1067060_qzomjdt8bmp.css">



  <link  rel="stylesheet" href="/blog/lib/prettify/tomorrow-night-eighties.min.css" />

<link  rel="stylesheet" href="/blog/css/main.css" />


  <link defer rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />


<!-- è‡ªå®šä¹‰æ ·å¼ä¿æŒåœ¨æœ€åº•éƒ¨ -->


<meta name="generator" content="Hexo 4.2.1"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/blog/">&nbsp;<strong>ğŸğŸŠ's blog</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/blog/">é¦–é¡µ</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/blog/archives/">å½’æ¡£</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/blog/categories/">åˆ†ç±»</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/blog/tags/">æ ‡ç­¾</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/blog/about">å…³äº</a>
          </li>
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="view intro-2" id="background" parallax=true
         style="background: url('/blog/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask rgba-black-light flex-center">
          <div class="container text-center white-text fadeInUp">
            <span class="h2" id="subtitle">
              
            </span>

            
              
                <p class="mt-3 post-meta">
                  <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                  æ˜ŸæœŸä¸‰, ä¸‰æœˆ 25æ—¥ 2020, 12:37 ä¸‹åˆ
                </p>
              

              <p class="mt-1">
                
                  
                  <span class="post-meta">
                    <i class="far fa-chart-bar"></i>
                    2.5k å­—
                  </span>
                

                
                  
                  <span class="post-meta">
                      <i class="far fa-clock"></i>
                      11 åˆ†é’Ÿ
                  </span>
                

                
                  <!-- ä¸è’œå­ç»Ÿè®¡æ–‡ç« PV -->
                  
                  <span id="busuanzi_container_page_pv" class="post-meta" style="display: none">
                    <i class="far fa-eye" aria-hidden="true"></i>
                    <span id="busuanzi_value_page_pv"></span> æ¬¡
                  </span>
                
              </p>
            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5 z-depth-3" id="board">
          <div class="post-content mx-auto" id="post">
            
              <p
                class="note note-warning">æœ¬æ–‡æœ€åæ›´æ–°äºï¼šæ˜ŸæœŸä¸€, ä¸‰æœˆ 30æ—¥ 2020, 1:28 ä¸‹åˆ</p>
            
            <div class="markdown-body">
              <h2 id="MySQLå®‰è£…"><a href="#MySQLå®‰è£…" class="headerlink" title="MySQLå®‰è£…"></a>MySQLå®‰è£…</h2><p>Linux ä½¿ç”¨çš„ç‰ˆæœ¬æ˜¯centos 7ï¼Œä¸ºæ–¹ä¾¿èµ·è§å…ˆæŠŠé˜²ç«å¢™å…³é—­ï¼Œé…ç½®å¥½ç½‘ç»œï¼Œåœ¨å®‰è£…éƒ¨åˆ†ï¼Œä¼šåˆ†æˆä¸¤éƒ¨åˆ†é¦–å…ˆä¼šè¿›è¡Œå•å®ä¾‹å®‰è£…ï¼Œä¹Ÿå°±æ˜¯ä¸€å°æœåŠ¡å™¨ä¸Šå°±è£…ä¸€ä¸ªmysqlï¼Œæ¥ä¸‹æ¥å°±å¤šå®ä¾‹å®‰è£…ï¼Œåœ¨ä¸€ä¸ªæœåŠ¡å™¨ä¸Šå®‰è£…2ä¸ªç”šè‡³å¤šä¸ªmysqlã€‚</p>
<h3 id="å•å®ä¾‹çš„å®‰è£…"><a href="#å•å®ä¾‹çš„å®‰è£…" class="headerlink" title="å•å®ä¾‹çš„å®‰è£…"></a>å•å®ä¾‹çš„å®‰è£…</h3><ol>
<li><p>è§£å‹ï¼šå°†mysql-5.7.9-linux-glibc2.5-x86_64.tar.gzè§£å‹åˆ°/usr/local/ç›®å½•ä¸‹</p>
<pre><code>cp /soft/mysql-5.7.9-linux-glibc2.5-x86_64.tar.gz  /usr/local/
tar -zxvf mysql-5.7.9-linux-glibc2.5-x86_64.tar.gz </code></pre></li>
<li><p>ä¹‹åçš„æ­¥éª¤å¯ä»¥æ ¹æ®è§£å‹åç›®å½•ä¸­çš„INSTALL-BINARYæ–‡ä»¶æ¥</p>
<pre><code>shell&gt; groupadd mysql
shell&gt; useradd -r -g mysql mysql
shell&gt; cd /usr/local
shell&gt; tar zxvf /path/to/mysql-VERSION-OS.tar.gz
shell&gt; ln -s full-path-to-mysql-VERSION-OS mysql
shell&gt; cd mysql
shell&gt; mkdir mysql-files
shell&gt; chmod 770 mysql-files
shell&gt; chown -R mysql .
shell&gt; chgrp -R mysql .
shell&gt; bin/mysqld --initialize --user=mysql     # MySQL 5.7.6 and up //è¿™ä¸€æ­¥ä¼šå‡ºç°æ•°æ®åº“å¯†ç æ³¨æ„ä¿å­˜
shell&gt; bin/mysql_ssl_rsa_setup              # MySQL 5.7.6 and up
shell&gt; chown -R root .
shell&gt; chown -R mysql data mysql-files //åœ¨æ­¤ä¹‹å‰éœ€è¦æ‰‹åŠ¨åˆ›å»ºdataç›®å½•
shell&gt; bin/mysqld_safe --user=mysql &amp; //å¦‚æœæ­¤æ—¶æŠ¥é”™å¯ä»¥åˆ é™¤etcä¸‹çš„my.cnfæ–‡ä»¶ä¹‹åå†ä»bin/mysqld --initialize --user=mysqlå¼€å§‹é‡æ–°æ‰§è¡Œ
# Next command is optional
shell&gt; cp support-files/mysql.server /etc/init.d/mysql.server //å¯é€‰é¡¹</code></pre></li>
<li><p>é…ç½®ç¯å¢ƒå˜é‡ï¼š</p>
<p>åœ¨<code>/etc/profile</code>ä¸­æ·»åŠ <code>export PATH=/usr/local/mysql/bin:$PATH</code></p>
<p>ä¿å­˜åè¾“å…¥<code>source /etc/profile</code>å‘½ä»¤ä½¿é…ç½®ç”Ÿæ•ˆ</p>
</li>
<li><p>é…ç½®å¼€å¯å¯åŠ¨</p>
<p><code>chkconfig mysql.server on</code></p>
<p><code>chkconfig --list</code></p>
</li>
<li><p>ç™»å½•ã€ä¿®æ”¹å¯†ç ã€å…è®¸è¿œç¨‹ç™»å½•</p>
<p><code>mysql -uroot  -p&#39;ä½¿ç”¨ç¬¬äºŒæ­¥ä¸­ä¿å­˜çš„å¯†ç &#39;</code></p>
<p>æˆåŠŸè¿›å…¥åï¼š</p>
<p><code>set password = &#39;æ–°å¯†ç &#39;;</code></p>
<p>å…è®¸è¿œç¨‹ç™»é™†</p>
<p><code>GRANT ALL PRIVILEGES ON *.* TO &#39;root&#39;@&#39;%&#39; IDENTIFIED BY &#39;å¯†ç &#39;</code></p>
<p>åˆ·æ–°æƒé™</p>
<p><code>flush privileges;</code></p>
</li>
</ol>
<h3 id="å¤šå®ä¾‹çš„å®‰è£…"><a href="#å¤šå®ä¾‹çš„å®‰è£…" class="headerlink" title="å¤šå®ä¾‹çš„å®‰è£…"></a>å¤šå®ä¾‹çš„å®‰è£…</h3><p>åœ¨mysqlä¸­å·²ç»è€ƒè™‘åˆ°äº†å¤šå®ä¾‹å®‰è£…çš„æƒ…å†µã€‚ä¹Ÿæœ‰ç›¸åº”çš„è„šæœ¬å‘½ä»¤çš„æ”¯æŒã€‚</p>
<p>æ¯”å¦‚ç°åœ¨è£…ä¸¤ä¸ªmysqlç«¯å£åˆ†åˆ«ä¸º3307ã€3308</p>
<ol>
<li><p>æ–°å»º /etc/my.cnf é…ç½®å¦‚ä¸‹</p>
<pre><code>[mysqld]
sql_mode = &quot;STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION,NO_ZERO_DATE,NO_ZERO_IN_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER&quot;

[mysqld_multi]
mysqld = /usr/local/mysql/bin/mysqld_safe
mysqladmin = /usr/local/mysql/bin/mysqladmin
log = /var/log/mysqld_multi.log

[mysqld1] 
server-id = 11
socket = /tmp/mysql.sock1
port = 3307
datadir = /data1
user = mysql
performance_schema = off
innodb_buffer_pool_size = 32M
skip_name_resolve = 1
log_error = error.log
pid-file = /data1/mysql.pid1
[mysqld2]
server-id = 12
socket = /tmp/mysql.sock2
port = 3308
datadir = /data2
user = mysql
performance_schema = off
innodb_buffer_pool_size = 32M
skip_name_resolve = 1
log_error = error.log
pid-file = /data2/mysql.pid2</code></pre></li>
<li><p>åˆ›å»º2ä¸ªæ•°æ®ç›®å½•</p>
<pre><code>mkdir /data1
mkdir /data2</code></pre></li>
<li><p>åˆå§‹åŒ–MySQL</p>
<pre><code>chown mysql.mysql /data{1..2}
mysqld --initialize --user=mysql --datadir=/data1
mysqld --initialize --user=mysql --datadir=/data2
cp /usr/local/mysql/support-files/mysqld_multi.server /etc/init.d/mysqld_multid</code></pre></li>
<li><p>å®‰è£…perlç¯å¢ƒ</p>
<pre><code>yum -y install perl perl-devel</code></pre></li>
<li><p>æŸ¥çœ‹çŠ¶æ€</p>
<pre><code>mysqld_multi report</code></pre></li>
<li><p>å¯åŠ¨</p>
<pre><code>mysqld_multi start</code></pre></li>
<li><p>ä¿®æ”¹å¯†ç ï¼Œå…è®¸è¿œç¨‹è¿æ¥</p>
<pre><code>mysql -u root -S /tmp/mysql.sock1 -p -P3307
mysql -u root -S /tmp/mysql.sock2 -p -P3308
set password = &#39;root1234%&#39;;
GRANT ALL PRIVILEGES ON *.* TO &#39;root&#39;@&#39;%&#39; IDENTIFIED BY &#39;root1234%&#39;;
flush privileges;  </code></pre></li>
</ol>
<h2 id="MySQLæƒé™"><a href="#MySQLæƒé™" class="headerlink" title="MySQLæƒé™"></a>MySQLæƒé™</h2><p>MySQLçš„æƒé™ç®€å•çš„ç†è§£å°±æ˜¯MySQKå…è®¸ä½ åšæƒé™ä»¥å†…çš„äº‹æƒ…ï¼Œä¸å¯ä»¥è¶Šç•Œã€‚æ¯”å¦‚åªå…è®¸ä½ æ‰§è¡Œselectæ“ä½œï¼Œé‚£ä¹ˆä½ å°±ä¸èƒ½æ‰§è¡Œupdateæ“ä½œã€‚åªå…è®¸ä½ ä»æŸå°æœºå™¨ä¸Šè¿æ¥mysqlï¼Œé‚£ä¹ˆä½ å°±ä¸èƒ½ä»é™¤é‚£å°æœºå™¨ä»¥å¤–çš„å…¶ä»–æœºå™¨è¿æ¥mysqlã€‚</p>
<h3 id="ç®€å•ä½¿ç”¨"><a href="#ç®€å•ä½¿ç”¨" class="headerlink" title="ç®€å•ä½¿ç”¨"></a>ç®€å•ä½¿ç”¨</h3><pre><code>grant SELECT on mall.* TO &#39;dev&#39;@&#39;192.168.244.%&#39; IDENTIFIED BY &#39;123&#39; WITH GRANT OPTION;</code></pre><p>ä»¥ä¸Šè¯­å¯ä»¥åˆ›å»ºä¸€ä¸ªæ‹¥æœ‰mallä¸­æ‰€æœ‰è¡¨è¿›è¡Œselectæ“ä½œï¼Œç”¨æˆ·åä¸ºdevï¼Œå¯†ç ä¸º123ï¼Œå…è®¸åœ¨ç½‘æ®µ192.168.0.*è¿æ¥çš„ç”¨æˆ·ã€‚</p>
<pre><code>show grants for &#39;dev&#39;@&#39;192.168.244.%&#39;</code></pre><p>è¿™æ¡å‘½ä»¤å¯ä»¥è¾“å‡ºåˆšæ‰åˆ›å»ºçš„devç”¨æˆ·çš„æƒé™</p>
<h3 id="ç”¨æˆ·æ ‡è¯†"><a href="#ç”¨æˆ·æ ‡è¯†" class="headerlink" title="ç”¨æˆ·æ ‡è¯†"></a>ç”¨æˆ·æ ‡è¯†</h3><p>åœ¨MySQLä¸­çš„æƒé™ä¸æ˜¯å•çº¯çš„èµ‹äºˆç»™ç”¨æˆ·çš„ï¼Œè€Œæ˜¯èµ‹äºˆç»™â€ç”¨æˆ·+IPâ€çš„ã€‚</p>
<p>æ¯”å¦‚devç”¨æˆ·æ˜¯å¦èƒ½ç™»é™†ï¼Œç”¨ä»€ä¹ˆå¯†ç ç™»é™†ï¼Œå¹¶ä¸”èƒ½è®¿é—®ä»€ä¹ˆæ•°æ®åº“ç­‰éƒ½éœ€è¦åŠ ä¸ŠIPï¼Œè¿™æ ·æ‰ç®—ä¸€ä¸ªå®Œæ•´çš„ç”¨æˆ·æ ‡è¯†ï¼Œæ¢å¥è¯è¯´ â€˜devâ€™@â€™192.168.0.168â€™ ã€â€˜devâ€™@â€™127.0.0.1â€™ä¸â€˜devâ€™@â€™localhostâ€™ è¿™3ä¸ªæ˜¯å®Œå…¨ä¸åŒçš„ç”¨æˆ·æ ‡è¯†ï¼ˆå“ªæ€•ä½ æœ¬æœºçš„ipå°±æ˜¯192.168.0.168ï¼‰ã€‚</p>
<h3 id="ç”¨æˆ·æƒé™æ‰€æ¶‰åŠçš„è¡¨"><a href="#ç”¨æˆ·æƒé™æ‰€æ¶‰åŠçš„è¡¨" class="headerlink" title="ç”¨æˆ·æƒé™æ‰€æ¶‰åŠçš„è¡¨"></a>ç”¨æˆ·æƒé™æ‰€æ¶‰åŠçš„è¡¨</h3><p>åœ¨mysqlåº“ä¸­ä¸­å­˜åœ¨4ä¸ªæ§åˆ¶æƒé™çš„è¡¨ï¼Œ<code>åˆ†åˆ«ä¸ºuserè¡¨ï¼Œdbè¡¨ï¼Œtables_privè¡¨ï¼Œcolumns_privè¡¨</code></p>
<ul>
<li>userï¼šå­˜å‚¨ç”¨æˆ·æ ‡è¯†</li>
<li>dbï¼šç”¨æˆ·å¯¹æ•°æ®åº“çš„æƒé™</li>
<li>table_privï¼šç”¨æˆ·å¯¹è¡¨çš„æƒé™</li>
<li>column_privï¼šç”¨æˆ·å¯¹æŸä¸€åˆ—çš„æƒé™</li>
</ul>
<p>MySQLçš„æƒé™ç²’åº¦ç”šè‡³å¯ä»¥ç»†åŒ–åˆ°æŸä¸€åˆ—ä¸Šã€‚</p>
<pre><code>grant select(id,name) on mall.account to &#39;dev&#39;@&#39;192.168.244.%&#39;;</code></pre><p>è¿™æ¡è¯­å¥å¯ä»¥å°†mallæ•°æ®åº“ä¸­accountè¡¨çš„idè·Ÿnameçš„æŸ¥è¯¢æ¡ä»¶ç»™â€˜devâ€™@â€™192.168.244.%â€™ç”¨æˆ·ï¼Œä½†å¦‚æœç”¨æˆ·ä¹‹å‰æ‹¥æœ‰æ›´é«˜çš„æƒé™ï¼Œä¼šä»¥ä¹‹å‰æƒé™ä¸ºå‡†ï¼Œæ‰€ä»¥è¦æƒ³ç”Ÿæ•ˆå°±éœ€è¦ç§»é™¤â€˜devâ€™@â€™192.168.244.%â€™ç”¨æˆ·ä¹‹å‰çš„æƒé™ã€‚</p>
<pre><code>revoke select on mail.* from &#39;dev&#39;@&#39;192.168.244.%&#39;;</code></pre><p>æ­¤æ—¶å†ä½¿ç”¨â€˜devâ€™@â€™192.168.244.%â€™ç”¨æˆ·æŸ¥çœ‹è¡¨accountæ—¶å¯èƒ½ä¼šæŠ¥é”™ï¼Œæ­¤æ—¶å¯ä»¥ç”¨è¿‡ä»¥ä¸‹è¯­å¥æŸ¥çœ‹æ˜¯å¦è®¾ç½®æˆåŠŸã€‚</p>
<pre><code>select id,name from account;</code></pre><h2 id="MySQLçš„è§’è‰²"><a href="#MySQLçš„è§’è‰²" class="headerlink" title="MySQLçš„è§’è‰²"></a>MySQLçš„è§’è‰²</h2><p> MySqlåŸºäºâ€ç”¨æˆ·+IPâ€çš„è¿™ç§æˆæƒæ¨¡å¼åœ¨è®¾ç½®ç»™å¤šä¸ªç”¨æˆ·è®¾ç½®ç›¸åŒæƒé™æ—¶ä¼šæ¯”è¾ƒç¹çã€‚æ‰€ä»¥MySQLå®˜æ–¹åœ¨5.7ä¹‹åæ¨å‡ºâ€œRole Likeâ€åŠŸèƒ½æ¥å®ç°ç±»ä¼¼è§’è‰²çš„åŠŸèƒ½ï¼Œæ›´åŠ æ–¹ä¾¿ç®¡ç†å¤šä¸ªåŒæ ·æƒé™çš„è´¦æˆ·ã€‚</p>
<h3 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h3><ol>
<li><p>æ£€æŸ¥æ˜¯å¦å¼€å¯è§’è‰²åŠŸèƒ½</p>
<pre><code>show variables like &quot;%proxy%&quot;</code></pre></li>
<li><p><code>check_proxy_users</code>ï¼Œ<code>mysql_native_password_proxy_users</code>è¿™ä¸¤ä¸ªå˜é‡éœ€è¦è®¾ç½®æˆtrue</p>
<pre><code>set GLOBAL check_proxy_users =1;

set GLOBAL mysql_native_password_proxy_users = 1;</code></pre></li>
</ol>
<h3 id="ç®€å•ä½¿ç”¨-1"><a href="#ç®€å•ä½¿ç”¨-1" class="headerlink" title="ç®€å•ä½¿ç”¨"></a>ç®€å•ä½¿ç”¨</h3><ol>
<li><p>åˆ›å»ºä¸€ä¸ªdev_roleç”¨æˆ·</p>
<pre><code>create USER &#39;dev_role&#39;</code></pre></li>
<li><p>åœ¨åˆ›å»ºä¸¤ä¸ªç”¨æˆ·</p>
<pre><code>create USER &#39;test1&#39;
create USER &#39;test2&#39;</code></pre></li>
<li><p>æŠŠä¸¤ä¸ªç”¨æˆ·åŠ åˆ°ç»„é‡Œé¢</p>
<pre><code>grant proxy on &#39;dev_role&#39; to &#39;test1&#39;
grant proxy on &#39;dev_role&#39; to &#39;test2&#39;</code></pre></li>
<li><p>å¦‚æœæ˜¯è¿œç¨‹è¿æ¥éœ€è¦ç»™è¿œç¨‹è¿æ¥çš„ROOTGRANTæƒé™</p>
<pre><code>GRANT PROXY ON &#39;&#39;@&#39;&#39; TO &#39;root&#39;@&#39;%&#39; WITH GRANT OPTION;</code></pre></li>
<li><p>ç»™<code>dev_role</code>è®¾ç½®æƒé™</p>
<pre><code>grant select(id,name) on mall.account to &#39;dev_role&#39;</code></pre></li>
</ol>
<h2 id="MySQLçš„æ•°æ®ç±»å‹"><a href="#MySQLçš„æ•°æ®ç±»å‹" class="headerlink" title="MySQLçš„æ•°æ®ç±»å‹"></a>MySQLçš„æ•°æ®ç±»å‹</h2><h3 id="intç±»å‹"><a href="#intç±»å‹" class="headerlink" title="intç±»å‹"></a>intç±»å‹</h3><table>
<thead>
<tr>
<th><strong>ç±»å‹</strong></th>
<th><strong>å­—èŠ‚</strong></th>
<th><strong>æœ€å°å€¼</strong>ï¼ˆæœ‰ç¬¦å·/æ— ç¬¦å·ï¼‰</th>
<th><strong>æœ€å¤§å€¼</strong>ï¼ˆæœ‰ç¬¦å·/æ— ç¬¦å·ï¼‰</th>
</tr>
</thead>
<tbody><tr>
<td>TINYINT</td>
<td>1</td>
<td>-128 / 0</td>
<td>127 / 255</td>
</tr>
<tr>
<td>SMALLINT</td>
<td>2</td>
<td>-32768 / 0</td>
<td>32767/65535</td>
</tr>
<tr>
<td>MEDIUMINT</td>
<td>3</td>
<td>-8388608 / 0</td>
<td>8388607/16777215</td>
</tr>
<tr>
<td>INT</td>
<td>4</td>
<td>-2147483648 / 0</td>
<td>2147483647/4294967295</td>
</tr>
<tr>
<td>BIGINT</td>
<td>8</td>
<td>-9223372036854775808 / 0</td>
<td>9223372036854775807/18446744073709551615</td>
</tr>
</tbody></table>
<p>æ³¨ï¼š</p>
<ul>
<li>é¡¹ç›®ä¸­é€šå¸¸ä½¿ç”¨æœ‰ç¬¦å·çš„BIGINTã€‚</li>
<li>int(N)ä¸­Næ˜¯æŒ‡æ˜¾ç¤ºå®½åº¦ï¼Œå¹¶ä¸æ˜¯æœ€å¤§å­˜å‚¨é•¿åº¦ï¼Œå¦‚æœå¼€å¯zerofillï¼ˆå¡«å……0ï¼‰ï¼Œåœ¨æ•°æ®é•¿åº¦æœªè¾¾åˆ°Næ—¶ä¼šåœ¨å·¦ä¾§å¡«å……æ•°å­—0è‡³Nï¼ˆå¯è§†åŒ–å·¥å…·ä¸­å¯èƒ½ä¼šå°†å·¦ä¾§çš„0å±è”½ï¼‰ã€‚</li>
<li>è‡ªåŠ¨å¢é•¿åªèƒ½ç”¨äºä¸»é”®ï¼Œä¸”åªæœ‰ä¸»é”®ç±»å‹ä¸ºNULLæ—¶ä¼šè§¦å‘ã€‚</li>
</ul>
<h3 id="å­—ç¬¦ç±»å‹"><a href="#å­—ç¬¦ç±»å‹" class="headerlink" title="å­—ç¬¦ç±»å‹"></a>å­—ç¬¦ç±»å‹</h3><table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>è¯´æ˜</th>
<th>Nçš„å«ä¹‰</th>
<th>æ˜¯å¦æœ‰å­—ç¬¦é›†</th>
<th>æœ€å¤§é•¿åº¦</th>
</tr>
</thead>
<tbody><tr>
<td>CHAR(N)</td>
<td>å®šé•¿å­—ç¬¦</td>
<td>å­—ç¬¦</td>
<td>æ˜¯</td>
<td>255</td>
</tr>
<tr>
<td>VARCHAR(N)</td>
<td>å˜é•¿å­—ç¬¦</td>
<td>å­—ç¬¦</td>
<td>æ˜¯</td>
<td>16384</td>
</tr>
<tr>
<td>BINARY(N)</td>
<td>å®šé•¿äºŒè¿›åˆ¶å­—èŠ‚</td>
<td>å­—èŠ‚</td>
<td>å¦</td>
<td>255</td>
</tr>
<tr>
<td>VARBINARY(N)</td>
<td>å˜é•¿äºŒè¿›åˆ¶å­—èŠ‚</td>
<td>å­—èŠ‚</td>
<td>å¦</td>
<td>16384</td>
</tr>
<tr>
<td>TINYBLOB(N)</td>
<td>äºŒè¿›åˆ¶å¤§å¯¹è±¡</td>
<td>å­—èŠ‚</td>
<td>å¦</td>
<td>256</td>
</tr>
<tr>
<td>BLOB(N)</td>
<td>äºŒè¿›åˆ¶å¤§å¯¹è±¡</td>
<td>å­—èŠ‚</td>
<td>å¦</td>
<td>16K</td>
</tr>
<tr>
<td>MEDIUMBLOB(N)</td>
<td>äºŒè¿›åˆ¶å¤§å¯¹è±¡</td>
<td>å­—èŠ‚</td>
<td>å¦</td>
<td>16M</td>
</tr>
<tr>
<td>LONGBLOB(N)</td>
<td>äºŒè¿›åˆ¶å¤§å¯¹è±¡</td>
<td>å­—èŠ‚</td>
<td>å¦</td>
<td>4G</td>
</tr>
<tr>
<td>TINYTEXT(N)</td>
<td>å¤§å¯¹è±¡</td>
<td>å­—èŠ‚</td>
<td>æ˜¯</td>
<td>256</td>
</tr>
<tr>
<td>TEXT(N)</td>
<td>å¤§å¯¹è±¡</td>
<td>å­—èŠ‚</td>
<td>æ˜¯</td>
<td>16K</td>
</tr>
<tr>
<td>MEDIUMTEXT(N)</td>
<td>å¤§å¯¹è±¡</td>
<td>å­—èŠ‚</td>
<td>æ˜¯</td>
<td>16M</td>
</tr>
<tr>
<td>LONGTEXT(N)</td>
<td>å¤§å¯¹è±¡</td>
<td>å­—èŠ‚</td>
<td>æ˜¯</td>
<td>4G</td>
</tr>
</tbody></table>
<p>æ³¨ï¼š</p>
<ul>
<li>æ’åºè§„åˆ™ä¸­_ciä¸ºä¸åŒºåˆ†å¤§å°å†™æ¯”è¾ƒï¼Œ_csä¸ºåŒºåˆ†å¤§å°å†™æ¯”è¾ƒï¼Œ_binä¸ºä½¿ç”¨äºŒè¿›åˆ¶ç¼–ç æ¯”è¾ƒã€‚</li>
<li>utf8_unicode_ciå’Œutf8_general_ciå¯¹ä¸­ã€è‹±æ–‡æ¥è¯´æ²¡æœ‰å®è´¨çš„å·®åˆ«ã€‚utf8_general_ciæ ¡å¯¹é€Ÿåº¦å¿«ï¼Œä½†å‡†ç¡®åº¦ç¨å·®ï¼Œutf8_unicode_ciå‡†ç¡®åº¦é«˜ï¼Œä½†æ ¡å¯¹é€Ÿåº¦ç¨æ…¢ã€‚å¦‚æœä½ çš„åº”ç”¨æœ‰å¾·è¯­ã€æ³•è¯­æˆ–è€…ä¿„è¯­ï¼Œè¯·ä¸€å®šä½¿ç”¨utf8_unicode_ciï¼Œå…¶ä½™æƒ…å†µä¸‹utf8_general_ciå°±å¤Ÿäº†ã€‚</li>
<li>é™¤charï¼Œvarcharä¸­çš„Nè¡¨ç¤ºå­—ç¬¦é•¿åº¦å¤–ï¼Œå…¶ä½™ç±»å‹ä¸­çš„Nå‡è¡¨ç¤ºå­—èŠ‚é•¿åº¦ã€‚</li>
</ul>
<h3 id="æ—¶é—´ç±»å‹"><a href="#æ—¶é—´ç±»å‹" class="headerlink" title="æ—¶é—´ç±»å‹"></a>æ—¶é—´ç±»å‹</h3><table>
<thead>
<tr>
<th>æ—¥æœŸç±»å‹</th>
<th>å ç”¨ç©ºé—´</th>
<th>è¡¨ç¤ºèŒƒå›´</th>
</tr>
</thead>
<tbody><tr>
<td>DATETIME</td>
<td>8</td>
<td>1000-01-01 00:00:00 ~ 9999-12-31 23:59:59</td>
</tr>
<tr>
<td>DATE</td>
<td>3</td>
<td>1000-01-01 ~ 9999-12-31</td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>4</td>
<td>1970-01-01 00:00:00UTC ~ 2038-01-19 03:14:07UTC</td>
</tr>
<tr>
<td>YEAR</td>
<td>1</td>
<td>YEAR(2):1970-2070, YEAR(4):1901-2155</td>
</tr>
<tr>
<td>TIME</td>
<td>3</td>
<td>-838:59:59 ~ 838:59:59</td>
</tr>
</tbody></table>
<p>æ³¨ï¼šdatetimeä¸timestampåŒºåˆ«åœ¨äºï¼Œå†ä¿®æ”¹æ—¶åŒºåtimestampä¼šç›¸åº”çš„å˜åŒ–ï¼Œdatetimeä¸ä¼šã€‚</p>
<h3 id="JSONç±»å‹"><a href="#JSONç±»å‹" class="headerlink" title="JSONç±»å‹"></a>JSONç±»å‹</h3><p>MySQK5.7å¼€å§‹å¼•å…¥JSONæ•°æ®ç±»å‹ç”¨æ¥ä¿å­˜JSONç±»å‹çš„æ•°æ®ï¼Œä¸varcharçš„åŒºåˆ«åœ¨äº</p>
<ul>
<li>MySQLæä¾›äº†ä¸€ç»„æ“ä½œJSONæ•°æ®çš„å†…ç½®å‡½æ•°ã€‚</li>
</ul>
<ul>
<li>JSONæ•°æ®ç±»å‹ä¼šè‡ªåŠ¨æ ¡éªŒæ•°æ®æ˜¯å¦ä¸ºJSONæ ¼å¼ï¼Œå¦‚æœä¸æ˜¯JSONæ ¼å¼æ•°æ®ï¼Œåˆ™ä¼šæŠ¥é”™ã€‚</li>
<li>å­˜å‚¨åœ¨JSONåˆ—ä¸­çš„JSONæ•°æ®è¢«è½¬æ¢æˆå†…éƒ¨çš„å­˜å‚¨æ ¼å¼ï¼Œå…è®¸å¿«é€Ÿè¯»å–ã€‚</li>
<li>å¯ä»¥ä¿®æ”¹ç‰¹å®šçš„é”®å€¼</li>
</ul>
<h3 id="ç›¸å…³çš„å†…ç½®å‡½æ•°"><a href="#ç›¸å…³çš„å†…ç½®å‡½æ•°" class="headerlink" title="ç›¸å…³çš„å†…ç½®å‡½æ•°"></a>ç›¸å…³çš„å†…ç½®å‡½æ•°</h3><ul>
<li><p>json_typeï¼šæ˜¾ç¤ºå½“å‰JSONå­—ç¬¦ä¸²çš„ç±»å‹ï¼Œå¦‚<code>select json_type(&#39;[&quot;test1&quot;,&quot;test2&quot;,&quot;test3&quot;]&#39;);</code>è¾“å‡ºç»“æœä¸ºï¼š<code>ARRAY</code></p>
</li>
<li><p>json_arrayï¼šå°†æ•°ç»„å¯¹è±¡è½¬ä¸ºJSONæ•°ç»„ï¼Œå¦‚<code>select json_array(1,now(),&quot;test&quot;);</code>è¾“å‡ºç»“æœä¸ºï¼š<code>[1, &quot;2020-03-29 20:44:41.000000&quot;, &quot;test1&quot;]</code></p>
</li>
<li><p>json_objectï¼šå°†å¯¹è±¡è½¬ä¸ºJSONæ ¼å¼æ•°æ®ï¼Œå¦‚<code>select json_object(&quot;name&quot;, &quot;enjoy&quot;, &quot;email&quot;, &quot;enjoy.com&quot;, &quot;age&quot;,35);</code>è¾“å‡ºç»“æœä¸ºï¼š<code>{&quot;age&quot;: 35, &quot;name&quot;: &quot;enjoy&quot;, &quot;email&quot;: &quot;enjoy.com&quot;}</code></p>
</li>
<li><p>json_extractï¼šå¯ä»¥æå–JSONæ ¼å¼ä¸­çš„å±æ€§ï¼Œå¦‚<code>select json_extract(&#39;[10, 20, [30, 40]]&#39;, &#39;$[1]&#39;);</code>è¾“å‡ºç»“æœä¸ºï¼š<code>20</code></p>
</li>
<li><p>json_insertï¼šå‘JSONä¸­æ’å…¥æ•°æ®ï¼Œå¦‚æœå·²å­˜åœ¨åˆ™ä¸ä¼šä¿®æ”¹ï¼Œå¦‚</p>
<pre><code> set @json = &#39;{ &quot;a&quot;: 1, &quot;b&quot;: [2, 3]}&#39;;
 select json_insert(@json, &#39;$.a&#39;, 10, &#39;$.c&#39;, &#39;[true, false]&#39;);</code></pre><p>è¾“å‡ºç»“æœä¸ºï¼š<code>{&quot;a&quot;: 1, &quot;b&quot;: [2, 3], &quot;c&quot;: &quot;[true, false]&quot;}</code></p>
</li>
<li><p>json_mergeï¼šåˆå¹¶æ•°æ®å¹¶è¿”å›ï¼Œå¦‚<code>select json_merge(&#39;{&quot;name&quot;: &quot;enjoy&quot;}&#39;, &#39;{&quot;id&quot;: 47}&#39;);</code>è¾“å‡ºç»“æœä¸ºï¼š<code>{&quot;id&quot;: 47, &quot;name&quot;: &quot;enjoy&quot;}</code></p>
</li>
</ul>
<p><a href="https://dev.mysql.com/doc/refman/5.7/en/json-function-reference.html" target="_blank" rel="noopener">å…¶ä»–å‡½æ•°</a></p>
<h3 id="JSONç±»å‹çš„ç´¢å¼•"><a href="#JSONç±»å‹çš„ç´¢å¼•" class="headerlink" title="JSONç±»å‹çš„ç´¢å¼•"></a>JSONç±»å‹çš„ç´¢å¼•</h3><p>ç”±äºJSONç±»å‹æ•°æ®æœ¬èº«æ— æ³•ç›´æ¥åˆ›å»ºç´¢å¼•ï¼Œæ‰€ä»¥å°†è¦å»ºç«‹ç´¢å¼•çš„JSONæ•°æ®ä¸­çš„å­—æ®µï¼Œé‡æ–°ç”Ÿæˆè™šæ‹Ÿå­—æ®µï¼ˆVirtual Columnsï¼‰ä¹‹åï¼Œå†å¯¹è¯¥å­—æ®µè¿›è¡Œç´¢å¼•ã€‚</p>
<pre><code>create table test(
 data json,
 gen_col varchar(10) generated always as (data-&gt;&gt;&#39;$.name&#39;), 
 index idx (gen_col) 
);</code></pre><p>ä¸Šé¢çš„è¯­å¥å°†ä¸ºtestè¡¨ä¸­dataå­—æ®µä¸­çš„nameå±æ€§åˆ›å»ºåä¸ºgen_colçš„è™šæ‹Ÿå­—æ®µï¼Œå†ä¸ºgen_colåˆ›å»ºåä¸ºidxçš„ç´¢å¼•ã€‚</p>

            </div>
            <hr>
            <div>
              <p>
                
                  <span>
                <i class="iconfont icon-inbox"></i>
                    
                      <a class="hover-with-bg" href="/blog/categories/MySQL%E8%BF%9B%E9%98%B6/">MySQLè¿›é˜¶</a>
                      &nbsp;
                    
                  </span>&nbsp;&nbsp;
                
                
                  <span>
                <i class="iconfont icon-tag"></i>
                    
                      <a class="hover-with-bg" href="/blog/tags/MySQL/">MySQL</a>
                    
                  </span>
                
              </p>
              
                <p class="note note-warning">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://zh.wikipedia.org/wiki/Wikipedia:CC_BY-SA_3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC" target="_blank" rel="nofollow noopener noopener">CC BY-SA 3.0åè®®</a> ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</p>
              
              
                <div class="post-prevnext row">
                  <div class="post-prev col-6">
                    
                    
                      <a href="/blog/2020/03/30/MySQL%E6%9E%B6%E6%9E%84%E4%B8%8E%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/">
                        <i class="fa fa-chevron-left"></i>
                        <span class="hidden-mobile">MySQLæ¶æ„ä¸å­˜å‚¨å¼•æ“</span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </div>
                  <div class="post-next col-6">
                    
                    
                      <a href="/blog/2020/03/24/JVM-%E7%BC%96%E5%86%99%E9%AB%98%E6%95%88%E4%BC%98%E9%9B%85%E7%9A%84Java%E4%BB%A3%E7%A0%81/">
                        <span class="hidden-mobile">ç¼–å†™é«˜æ•ˆä¼˜é›…çš„Javaä»£ç </span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="fa fa-chevron-right"></i>
                      </a>
                    
                  </div>
                </div>
              
            </div>

              
                <!-- Comments -->
                <div class="comments" id="comments">
                  
                  

                </div>
              
          </div>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc-start"></div>
<div id="toc">
  <p class="h5"><i class="far fa-list-alt"></i>&nbsp;ç›®å½•</p>
  <div id="tocbot"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    
  </main>

  
    <a class="z-depth-1" id="scroll-top-button" href="#" role="button">
      <i class="fa fa-chevron-up scroll-top-arrow" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  

  

  <footer class="mt-5">
  <div class="text-center py-3">
    <div>
      <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><b>Hexo</b></a>
      <i class="iconfont icon-love"></i>
      <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"> <b>Fluid</b></a>
    </div>
    
  <div>
    
      <!-- ä¸è’œå­ç»Ÿè®¡PV -->
      
      <span id="busuanzi_container_site_pv" style="display: none">
      æ€»è®¿é—®é‡ <span id="busuanzi_value_site_pv"></span> æ¬¡
    </span>
    
    
      <!-- ä¸è’œå­ç»Ÿè®¡UV -->
      
      <span id="busuanzi_container_site_uv" style="display: none">
      æ€»è®¿å®¢æ•° <span id="busuanzi_value_site_uv"></span> äºº
    </span>
    
  </div>


    

    
  </div>
</footer>

<!-- SCRIPTS -->
<script  src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/popper.js/1.16.1/umd/popper.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js" ></script>
<script  src="https://cdn.staticfile.org/mdbootstrap/4.13.0/js/mdb.min.js" ></script>
<script  src="/blog/js/main.js" ></script>


  <script  src="/blog/js/lazyload.js" ></script>



  
  <script  src="https://cdn.staticfile.org/tocbot/4.10.0/tocbot.min.js" ></script>
  <script>
    $(document).ready(function () {
      var navHeight = $('#navbar').height();
      var toc = $('#toc');
      var boardCtn = $('#board-ctn');
      var boardTop = boardCtn.offset().top;
      var tocLimMax = 2 * boardTop + boardCtn.height();

      $(window).scroll(function () {
        var tocLimMin = $('#toc-start').offset().top - navHeight;
        var scroH = document.body.scrollTop + document.documentElement.scrollTop;

        if (tocLimMin <= scroH && scroH <= tocLimMax) {
          toc.css({
            'display': 'block',
            'position': 'fixed',
            'top': navHeight,
          });
        } else if (scroH <= tocLimMin) {
          toc.css({
            'position': '',
            'top': '',
          });
        } else if (scroH > tocLimMax) {
          toc.css('display', 'none');
        }
      });
      tocbot.init({
        tocSelector: '#tocbot',
        contentSelector: '.post-content',
        headingSelector: 'h1,h2,h3,h4,h5,h6',
        linkClass: 'tocbot-link',
        activeLinkClass: 'tocbot-active-link',
        listClass: 'tocbot-list',
        isCollapsedClass: 'tocbot-is-collapsed',
        collapsibleClass: 'tocbot-is-collapsible',
        scrollSmooth: true,
        headingsOffset: -boardTop
      });
      if ($('.toc-list-item').length > 0) {
        $('#toc > p').css('visibility', 'visible');
      }
      var offset = boardCtn.css('margin-right')
      $('#toc-ctn').css({
        'right': offset
      })
    });
  </script>





  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>
  <script  src="/blog/js/clipboard-use.js" ></script>



  <script defer src="https://cdn.staticfile.org/smoothscroll/1.4.10/SmoothScroll.min.js" ></script>



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>




<!-- Plugins -->


  

  

  

  

  

  



  <script  src="https://cdn.staticfile.org/prettify/188.0.0/prettify.min.js" ></script>
  <script>
    $(document).ready(function () {
      $('pre').addClass('prettyprint  linenums');
      prettyPrint();
    })
  </script>



  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "MySQLåŸºç¡€&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 70,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "hover",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script  src="/blog/js/local-search.js" ></script>
  <script>
    var path = "/blog/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      getSearchFile(path);
      this.onclick = null
    }
  </script>



  <script defer src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>
  <script>
    $("#post img:not(.no-zoom img, img[no-zoom])").each(
      function () {
        var element = document.createElement("a");
        $(element).attr("data-fancybox", "images");
        $(element).attr("href", $(this).attr("src"));
        $(this).wrap(element);
      }
    );
  </script>





  
  
    <script type="text/javascript">
      //å®šä¹‰è·å–è¯è¯­ä¸‹æ ‡
      var a_idx = 0;
      jQuery(document).ready(function ($) {
        //ç‚¹å‡»bodyæ—¶è§¦å‘äº‹ä»¶
        $("body").click(function (e) {
          //éœ€è¦æ˜¾ç¤ºçš„è¯è¯­
          var a = new Array("å¯Œå¼º", "æ°‘ä¸»", "æ–‡æ˜", "å’Œè°", "è‡ªç”±", "å¹³ç­‰", "å…¬æ­£", "æ³•æ²»", "çˆ±å›½", "æ•¬ä¸š", "è¯šä¿¡", "å‹å–„");
          //è®¾ç½®è¯è¯­ç»™spanæ ‡ç­¾
          var $i = $("<span/>").text(a[a_idx]);
          //ä¸‹æ ‡ç­‰äºåŸæ¥ä¸‹æ ‡+1  ä½™ è¯è¯­æ€»æ•°
          a_idx = (a_idx + 1) % a.length;
          //è·å–é¼ æ ‡æŒ‡é’ˆçš„ä½ç½®ï¼Œåˆ†åˆ«ç›¸å¯¹äºæ–‡æ¡£çš„å·¦å’Œå³è¾¹ç¼˜ã€‚
          //è·å–xå’Œyçš„æŒ‡é’ˆåæ ‡
          var x = e.pageX, y = e.pageY;
          //åœ¨é¼ æ ‡çš„æŒ‡é’ˆçš„ä½ç½®ç»™$iå®šä¹‰çš„spanæ ‡ç­¾æ·»åŠ cssæ ·å¼
          $i.css({
            "z-index": 999,
            "top": y - 20,
            "left": x,
            "position": "absolute",
            "font-weight": "bold",
            "color": rand_color()
          });
          // éšæœºé¢œè‰²
          function rand_color() {
            return "rgb(" + ~~(255 * Math.random()) + "," + ~~(255 * Math.random()) + "," + ~~(255 * Math.random()) + ")"
          }
          //åœ¨bodyæ·»åŠ è¿™ä¸ªæ ‡ç­¾
          $("body").append($i);
          //animate() æ–¹æ³•æ‰§è¡Œ CSS å±æ€§é›†çš„è‡ªå®šä¹‰åŠ¨ç”»ã€‚
          //è¯¥æ–¹æ³•é€šè¿‡CSSæ ·å¼å°†å…ƒç´ ä»ä¸€ä¸ªçŠ¶æ€æ”¹å˜ä¸ºå¦ä¸€ä¸ªçŠ¶æ€ã€‚CSSå±æ€§å€¼æ˜¯é€æ¸æ”¹å˜çš„ï¼Œè¿™æ ·å°±å¯ä»¥åˆ›å»ºåŠ¨ç”»æ•ˆæœã€‚
          //è¯¦æƒ…è¯·çœ‹http://www.w3school.com.cn/jquery/effect_animate.asp
          $i.animate({
            //å°†åŸæ¥çš„ä½ç½®å‘ä¸Šç§»åŠ¨180
            "top": y - 180,
            "opacity": 0
            //1500åŠ¨ç”»çš„é€Ÿåº¦
          }, 1500, function () {
            //æ—¶é—´åˆ°äº†è‡ªåŠ¨åˆ é™¤
            $i.remove();
          });
        });
      })
      ;
    </script>
  








</body>
</html>
